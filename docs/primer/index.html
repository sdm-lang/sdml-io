<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-02-26 Mon 11:41 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simple Domain Modeling Language</title>
<meta name="author" content="Simon Johnston" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<link rel="stylesheet" type="text/css" href="../rtd-sdml.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Simple Domain Modeling Language
<br />
<span class="subtitle">Language Primer</span>
</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#primer:why-domain-model">1. Why do I want a Domain Model?</a>
<ul>
<li><a href="#primer:where-to-start">1.1. Where do I start?</a></li>
</ul>
</li>
<li><a href="#primer:what-is-sdml">2. What is SDML?</a>
<ul>
<li><a href="#primer:what-sdml-is-not">2.1. What it isn&rsquo;t</a></li>
</ul>
</li>
<li><a href="#primer:what-can-it-do">3. What can I do with it?</a>
<ul>
<li><a href="#primer:capture-entities">3.1. Capture Entities</a>
<ul>
<li><a href="#org50c5b07">3.1.1. Retail Example</a></li>
<li><a href="#orgfa0d09d">3.1.2. Hospitality Example</a></li>
<li><a href="#org2ed7939">3.1.3. Logistics Example</a></li>
</ul>
</li>
<li><a href="#primer:add-structures-and-enums">3.2. Add details with Structures and Enums</a>
<ul>
<li><a href="#orge18007b">3.2.1. Retail Example</a></li>
<li><a href="#orga76007d">3.2.2. Hospitality Example</a></li>
<li><a href="#orga65691e">3.2.3. Logistics Example</a></li>
</ul>
</li>
<li><a href="#primer:add-events">3.3. Describe Events emitted by Entities</a>
<ul>
<li><a href="#org145a32d">3.3.1. Retail Example</a></li>
<li><a href="#orge7ba423">3.3.2. Hospitality Example</a></li>
<li><a href="#org0acc67c">3.3.3. Logistics Example</a></li>
</ul>
</li>
<li><a href="#primer:add-unions">3.4. Describe &ldquo;This or That&rdquo; with Unions</a>
<ul>
<li><a href="#org63eb033">3.4.1. Hospitality Example</a></li>
<li><a href="#org5ec4c55">3.4.2. Logistics Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#primer:how-to-use">4. How do I use it?</a>
<ul>
<li><a href="#primer:how-to-edit">4.1. Editing SDML Source</a></li>
<li><a href="#primer:how-to-draw-diagrams">4.2. Drawing Diagrams</a></li>
<li><a href="#primer:how-to-document-modules">4.3. Document Modules</a></li>
</ul>
</li>
<li><a href="#primer:what-next">5. What do I do next?</a>
<ul>
<li><a href="#primer:for-authors">5.1. For Authors</a></li>
<li><a href="#primer:for-tool-builders">5.2. For Tool Builders</a></li>
<li><a href="#primer:more-reading">5.3. More Reading</a></li>
</ul>
</li>
<li><a href="#primer:glossary">6. A Brief Glossary</a></li>
</ul>
</div>
</div>

<div id="orgee87d85" class="figure">
<p><img src="../logo/svg/square-dark.svg" alt="square-dark.svg" class="org-svg" width="75%" height="75%" />
</p>
</div>

<p>
This short primer introduces the Simple Domain Modeling Language (SDML) and how you can apply it to model your business
domain. This is not a replacement for the main SDML <a href="https://sdml.io">documentation</a> but instead a quick tour of the language, it&rsquo;s
features and application. This introduction will focus only on the SDML <i>surface syntax</i>, the textual representation that
most people will interact with directly, whereas the main documentation also covers the semantics of the language and
mappings between SDML and other key models. The primer also covers the core concepts that almost everyone will need to
know, with pointers to the more advanced topics in the main documentation (notes marked with ðŸŽ›).
</p>

<p>
So, let&rsquo;s start&#x2026;
</p>

<div id="outline-container-primer:why-domain-model" class="outline-2">
<h2 id="primer:why-domain-model"><span class="section-number-2">1.</span> Why do I want a Domain Model?</h2>
<div class="outline-text-2" id="text-primer:why-domain-model">
<p>
Modeling in software development has had a difficult history, in some technical domains it is considered an essential
tool. However, in many others, and especially with the emergence of agile development practices, it is considered an
unnecessary overhead. George Box (statistician) famously wrote, &ldquo;<i>All models are wrong, some are useful.</i>&rdquo;, and later
expanded it to
</p>

<blockquote>
<p>
All models are approximations. Assumptions, whether implied or clearly stated, are never exactly true. All models are
wrong, but some models are useful. So the question you need to ask is not &ldquo;Is the model true?&rdquo; (it never is) but &ldquo;Is the
model good enough for this particular application?&rdquo; &#x2014; George E. P. Box, 1976.
</p>
</blockquote>

<p>
So why would we build a domain model? Well, from the introduction to the guidance topic <i>Domain Modeling</i> in the Scaled
Agile Framework we get the following.
</p>

<blockquote>
<p>
Domain modeling is one of the key models used in software engineering: <b>if you only model one thing in Agile, model the
domain</b>. A relatively small domain-modeling effort is a great tool for controlling the complexity of the system under
development. It may help in resolving countless ambiguities in both the requirements and the design intent. Domain
modeling simply reflects our understanding of real-world <b>entities</b> and their <b>relationships</b> and <b>responsibilities</b> that
cover the problem domain.
</p>
</blockquote>

<p>
It is the essential characteristic of the domain model that it <b>must</b> reflect real-world entities, the tangible and
intangible artifacts that are the common vocabulary of the domain. For example, in a Hotel domain model we may introduce
Hotel, Room, Customer, and Booking as entities whereas a car rental domain model would have Location, Vehicle, Customer,
and Booking. These entities should not be abstracted more than necessary, while the term <i>Location</i> in the rental model
could be considered as a generic form for <i>Hotel</i> it is not, they are not the same and the choice of Location was not for
genericity or abstraction but because that is the term that the rental car industry uses.
</p>

<p>
As such, a domain model is an essential communication tool, not only between the business and technology sides of an
organization but also between the business and it&rsquo;s customers and partners. Some industry standards for example use a
common domain model to help facilitate the understanding of the standards themselves and how they apply between parties. 
</p>
</div>

<div id="outline-container-primer:where-to-start" class="outline-3">
<h3 id="primer:where-to-start"><span class="section-number-3">1.1.</span> Where do I start?</h3>
<div class="outline-text-3" id="text-primer:where-to-start">
<p>
One answer to that question is whether existing domain models already exist for your industry, often from standards
organizations. If not then you would want to get a group of subject-matter experts (SMEs) together to talk through the
key components of your business and how they relate to each other. You want to identify first those real-world entities
that comprise the core of the business, and start with the ones your customers would be able to articulate &#x2013; only
because that simple test helps to identify the truly essential elements.
</p>

<p>
Include stakeholders across your business <i>and</i> with different roles and perspectives. This is not a time to be parochial,
to codify existing organizational structures or silos. Ask yourself, &ldquo;<i>If we were to fundamentally reorganize our
internal structure, would these entities have to change?</i>&rdquo; and if the answer is <i>yes</i> you almost certainly have something
wrong. The danger is that your modeling effort falls foul of Conway&rsquo;s law:
</p>

<blockquote>
<p>
Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the
organization&rsquo;s communication structure. &#x2014; Melvin E. Conway, 1967.
</p>
</blockquote>

<p>
Another good place to start is to ask participants to describe the business in only 1 or 2 sentences. In the following
we have highlighted obvious candidate entities in bold, and phrases that may hide entities in italics.
</p>

<ul class="org-ul">
<li>Retail: <b>Customers</b> go to a <b>store</b> to <b>purchase</b> <b>items</b>, they may have a specific item in mind or expect to find <i>choices
they can choose between</i>. Depending on the <i>kind of item</i> this choice may be <i>variations (in size or color for example)</i> of
the same item or the same kind of item from <i>different manufacturers</i>.</li>
<li>Hotel: A <b>customer</b> <b>books</b> a <b>room</b> according to their choice of <i>size, bed type, or other criteria</i>, for <i>specific dates</i> at a
particular <b>property</b>. A customer may make <i>certain kinds</i> of <b>purchase</b> against their room which are then added to the
final <b>bill</b> on <i>completion of their stay</i>.</li>
<li>Long-Haul Logistics: The business comprises <i>matching</i> available transportation <b>capacity</b> on one or more <b>routes</b> to
<i>deliver</i> a <b>customer</b>&rsquo;s load from <i>source to destination</i> within some <i>time constraint</i>. A load may be one or more <b>standard
palettes</b>, or one or more <b>standard containers</b>. This results in one or more <b>delivery contracts</b>.</li>
</ul>

<p>
The next step may be to ask questions such as &ldquo;<i>does the (candidate) entity <b>X</b> have a natural and unique identifier?</i>&rdquo;,
&ldquo;<i>what properties does the (candidate) entity <b>X</b> have?</i>&rdquo;, or &ldquo;<i>if we don&rsquo;t think <b>X</b> is an entity, what is it?</i>&rdquo;. All of these
help to elaborate an initial framework that you can hang more detail on as you spend more time with more stakeholders.
Whether you capture this in a structured form such as SDML, a graphical form such as a Visio diagram or data model
diagram, or even natural language notes, you now have a domain model.
</p>

<p>
The first of these questions is actually the most important as we can define an entity according to the following rules.
</p>

<p>
An Entity is:
</p>

<ol class="org-ol">
<li>the name of a real-world concept,</li>
<li>usually being a noun in the language used to describe the domain,</li>
<li>that has an independent lifecycle (is not dependent on the lifecycle of another),</li>
<li>and has a natural and unique identifier.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-primer:what-is-sdml" class="outline-2">
<h2 id="primer:what-is-sdml"><span class="section-number-2">2.</span> What is SDML?</h2>
<div class="outline-text-2" id="text-primer:what-is-sdml">
<p>
SDML is a textual language that allows you to describe a domain model in a <i>relatively</i> simple structured manner. We say
relatively because the language allows you to build models iteratively, capturing the essentials first and elaborating
on them over time. It is common for domain models to be the output of workshop sessions and so the ability to capture a
valid model in real-time even if it lacks detail is a useful feature. With this in mind we will elaborate on the module
<i>definition</i> in listing <a href="#orgdfadf8f">1</a> during this primer.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>An empty module</label><pre class="src src-sdml" id="orgdfadf8f"><span class="linenr">1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">retail</span> <span style="color: #859900;">is</span> <span style="color: #859900;">end</span>
</pre>
</div>

<p>
This is, obviously, not a very informative definition of the retail domain; however, it is a valid model and a good
enough place to start. But, as you&rsquo;ve been tasked with being the scribe at a workshop outlining the domain model for a
retail business you&rsquo;re on track so far. We will see more features in the following sections.
</p>

<p>
One question you may have, why a textual language, why not a fancy graphical one, or an even fancier web-based graphical
one? The reasons are purely pragmatic; <b>1.</b> simpler to build, <b>2.</b> now you have a persistent format, <b>3.</b> easier to agree
details, <b>4.</b> not everyone is a visual thinker, and <b>5.</b> it&rsquo;s usually easier to define a visual representation of textual
form than a textual representation of a visual one. One (and not necessarily the most urgent) of the problems that has
hampered the adoption of the UML language for example is that there is no standard representation and so all tools have
to write import/export capabilities to share models leading to errors or inconsistencies. SDML has a native
representation, the surface syntax (it actually has two, more on that in a moment) and all tool builders can rely on
being able to read and write that syntax.
</p>

<div class="ADVNOTE" id="orgb5d1a85">
<p>
What is the other representation? The textual language, shown in listing <a href="#orgdfadf8f">1</a> has a direct mapping to, and
can be considered an alternate syntax for, a particular <a href="https://www.w3.org/TR/rdf12-concepts">RDF</a>/<a href="https://www.w3.org/OWL/">OWL</a> ontology <b>[need link]</b>. This means that the <i>semantics</i> of
SDML are then described by the OWL ontology, then OWL, and then RDF. Understanding this is not necessary to using or
understanding the SDML syntax.
</p>

</div>

<p>
The SDML <i>project</i>, which is more than just the language definition, provides editor integration for authoring and tools
for drawing and documentation. It also produces this primer and the main documentation.
</p>
</div>

<div id="outline-container-primer:what-sdml-is-not" class="outline-3">
<h3 id="primer:what-sdml-is-not"><span class="section-number-3">2.1.</span> What it isn&rsquo;t</h3>
<div class="outline-text-3" id="text-primer:what-sdml-is-not">
<ul class="org-ul">
<li>SDML is not, as we said above, a graphical language. It relies on a defined mapping to the UML language that allows
the core elements of the textual language to be represented visually in UML.</li>
<li>SDML is not a product, it&rsquo;s freely available and open source.</li>
<li>SDML is not a standard, there&rsquo;s no committee managing changes. Feel free to file an enhancement request, or if you
have a change a pull request, because&#x2026;</li>
<li>SDML is not done, we expect evolution as we see interesting opportunities to help you, and you see things we missed.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-primer:what-can-it-do" class="outline-2">
<h2 id="primer:what-can-it-do"><span class="section-number-2">3.</span> What can I do with it?</h2>
<div class="outline-text-2" id="text-primer:what-can-it-do">
<p>
The value of a domain model is in being able to describe the domain in an unambiguous way, so that it can become a
shared vocabulary which in turn requires some rigor. One of the goals of SDML is to allow you to apply rigor as needed
and elaborate the model over time. Some modeling tools, techniques, and processes, seem to require you to front-load the
details and it can be hard to get past the <i>blank page</i> problem as it feels like you need to do so much just to start.
</p>

<p>
This section will show this elaboration process in action as we build the models for our example domains: Retail,
Hospitality, and Logistics. 
</p>
</div>

<div id="outline-container-primer:capture-entities" class="outline-3">
<h3 id="primer:capture-entities"><span class="section-number-3">3.1.</span> Capture Entities</h3>
<div class="outline-text-3" id="text-primer:capture-entities">
<p>
Let&rsquo;s add the entities from the previous natural language description to our module. In each of the following sections
we will repeat the descriptive text and follow it with an initial model. Note that all we need to do at this stage is
list the entities we have identified so far using the rather obvious keyword <code>entity</code>. 
</p>
</div>

<div id="outline-container-org50c5b07" class="outline-4">
<h4 id="org50c5b07"><span class="section-number-4">3.1.1.</span> Retail Example</h4>
<div class="outline-text-4" id="text-3-1-1">
<div class="INDENTED" id="org05bc018">
<p>
<b>Customers</b> go to a <b>store</b> to <b>purchase</b> <b>items</b>, they may have a specific item in mind or expect to find <i>choices they can
choose between</i>. Depending on the <i>kind of item</i> this choice may be <i>variations (in size or color for example)</i> of the same
item or the same kind of item from <i>different manufacturers</i>.
</p>

</div>

<p>
When we look at the italic text above we note the possible entities Kind, Variation, Size, Color, and Manufacturer.
However, as we talk them through with the stakeholders we feel that they do not meet the criteria outlined in the
section <a href="#primer:where-to-start">Where do I start?</a>, except <code>Manufacturer</code>.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>Initial Retail Entities</label><pre class="src src-sdml" id="org11e4bdc"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">retail</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Store</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Purchase</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Item</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Manufacturer</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
Note that, depending on how you state the initial part of the description above you may end up with a different name for
the entity <code>Purchase</code>; &ldquo;A store sells items to customers&rdquo; for example will result in essentially the same entity but with
the name <code>Sale</code> only because the subject of the sentence has changed. Beware of this, try and always pick a subject to use
for all descriptions to avoid models that include both purchase and sale! In general, we recommend that you pick the
customer as the primary subject as it means you end up with fewer internal names or jargon names for things.
</p>
</div>
</div>

<div id="outline-container-orgfa0d09d" class="outline-4">
<h4 id="orgfa0d09d"><span class="section-number-4">3.1.2.</span> Hospitality Example</h4>
<div class="outline-text-4" id="text-3-1-2">
<div class="INDENTED" id="orgb6ea8f2">
<p>
A <b>customer</b> <b>books</b> a <b>room</b> according to their choice of <i>size, bed type, or other criteria</i>, for <i>specific dates</i> at a
particular <b>property</b>. A customer may make <i>certain kinds</i> of <b>purchases</b> against their room which are then added to the
final <b>bill</b> on <i>completion of their stay</i>.
</p>

</div>

<p>
The only additional entity beyond the set already identified in bold is possibly <code>Stay</code>, which at first looks a lot like
<code>Booking</code> in that it has a start and end date and references a <code>Customer</code> and <code>Property</code>. However, a booking reference the
<i>type of room</i> where as the stay references the actual room, and the start and end dates may not be the same if the
customer left early for example.
</p>

<p>
In listing <a href="#orga07fe1c">3</a> we will fill in some details, just to see how it&rsquo;s done. Specifically note
the use of the arrow operator <code>-&gt;</code> or <code>â†’</code> that denotes the type (right-hand side) of a member (left-hand side). Also, if you
remember that a part of the definition of an entity is that it has strong identity, so as we are adding details to
entities we <b>must</b> provide an <code>identity</code> member.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>Initial Hospitality Entities</label><pre class="src src-sdml" id="orga07fe1c"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">xsd</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Booking</span> <span style="color: #859900;">is</span>
<span class="linenr"> 8: </span>    <span style="color: #859900;">identity</span> booking_code <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 9: </span>    customer <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr">10: </span>    property <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Property</span>
<span class="linenr">11: </span>    room_type <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unknown</span> <span style="color: #93a1a1; font-style: italic;">;; don't know what this is yet.</span>
<span class="linenr">12: </span>    start_date <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:date</span>
<span class="linenr">13: </span>    end_date <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:date</span>
<span class="linenr">14: </span>    number_of_adults <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">integer</span>
<span class="linenr">15: </span>    number_of_children <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">integer</span>
<span class="linenr">16: </span>  <span style="color: #859900;">end</span>
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Room</span>
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Property</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Purchase</span>
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Bill</span> <span style="color: #859900;">is</span>
<span class="linenr">25: </span>    <span style="color: #859900;">identity</span> transaction_id <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unknown</span>
<span class="linenr">26: </span>    for_stay <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Stay</span>
<span class="linenr">27: </span>    charges <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Purchase</span>
<span class="linenr">28: </span>  <span style="color: #859900;">end</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Stay</span> <span style="color: #859900;">is</span>
<span class="linenr">31: </span>    <span style="color: #859900;">identity</span> id <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unknown</span>
<span class="linenr">32: </span>    from_booking <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Booking</span>
<span class="linenr">33: </span>  <span style="color: #859900;">end</span>
<span class="linenr">34: </span>
<span class="linenr">35: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
The following are useful pointers to features of the entity definition.
</p>

<ol class="org-ol">
<li>Lines 9-10: the members named <code>customer</code> and <code>property</code> reference other entities in the same module <i>even though</i> neither of those
entities are complete.</li>
<li>Line 11: the member named <code>room_type</code> has the type <code>*unknown*</code> which is an explicit signal that this model is incomplete as the
type has not yet been decided.</li>
<li>Line 11: the semi-colon introduces a line comment, so we added a little note to ourselves about the unknown type for this
member. The use of two semi-colons is a style preference as it makes the comment easier to find.</li>
<li>Lines 8,11-15: the type names <code>string</code> and <code>integer</code> (and <code>unknown</code>) are builtin, the type <code>xsd:date</code> is not, it has been imported from
another module named <code>xsd</code>. The name <code>xsd:date</code> is a <i>qualified name</i> which uses the colon character to combine module and
definition name.</li>
<li>Line 27: the member named in <code>charges</code> in <code>Bill</code> is a <i>sequence type</i>, which means it can have a varying number of values. The
specification for upper and lower bounds on a sequence type are it&rsquo;s cardinality, the lack of a upper bound means
that the range is <i>unbounded</i>. The default cardinality being <code>1</code>.</li>
<li>Line 32: the member named <code>from_booking</code> in <code>Stay</code> is another sequence type, although with the cardinality of <code>0..1</code> may be seen as
<i>optional</i>.</li>
</ol>

<p>
The builtin datatypes in SDML are derived from those in the XML Schema, Part 2 specification, the same datatypes used in
RDF. The major datatypes are listed in table <a href="#org0477d9c">1</a> and compared to corresponding datatypes in SQL,
Java and Rust. SQL&rsquo;s Data Definition Language (DDL) is a useful comparison given that it may be familiar to less
technical stakeholders.
</p>

<table id="org0477d9c" border="0" cellspacing="0" cellpadding="6" rules="none" frame="none">
<caption class="t-above"><span class="table-number">Table 1:</span> Datatype Comparisons</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Datatype</th>
<th scope="col" class="org-left">SQL Equivalent</th>
<th scope="col" class="org-left">Java Equivalent</th>
<th scope="col" class="org-left">Rust Equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>binary</code></td>
<td class="org-left"><code>BINARY</code> or <code>VARBINARY</code></td>
<td class="org-left"><code>byte[]</code></td>
<td class="org-left"><code>Vec&lt;u8&gt;</code> or <code>[u8]</code></td>
</tr>

<tr>
<td class="org-left"><code>boolean</code></td>
<td class="org-left"><code>BIT</code></td>
<td class="org-left"><code>boolean</code></td>
<td class="org-left"><code>bool</code></td>
</tr>

<tr>
<td class="org-left"><code>decimal</code></td>
<td class="org-left"><code>DECIMAL</code></td>
<td class="org-left"><code>BigDecimal</code> in <code>java.math</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>double</code></td>
<td class="org-left"><code>DOUBLE PRECISION</code></td>
<td class="org-left"><code>double</code></td>
<td class="org-left"><code>f64</code></td>
</tr>

<tr>
<td class="org-left"><code>integer</code></td>
<td class="org-left"><code>INTEGER</code></td>
<td class="org-left"><code>long</code></td>
<td class="org-left"><code>i64</code></td>
</tr>

<tr>
<td class="org-left"><code>string</code></td>
<td class="org-left"><code>CHAR</code> or <code>VARCHAR</code></td>
<td class="org-left"><code>String</code></td>
<td class="org-left"><code>String</code> or <code>str</code></td>
</tr>

<tr>
<td class="org-left"><code>unsigned</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>u64</code></td>
</tr>

<tr>
<td class="org-left"><code>uri</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>xsd:date</code></td>
<td class="org-left"><code>DATE</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>xsd:time</code></td>
<td class="org-left"><code>TIME</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>xsd:dateTime</code></td>
<td class="org-left"><code>DATETIME</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>xsd:duration</code></td>
<td class="org-left"><code>INTERVAL</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org2ed7939" class="outline-4">
<h4 id="org2ed7939"><span class="section-number-4">3.1.3.</span> Logistics Example</h4>
<div class="outline-text-4" id="text-3-1-3">
<div class="INDENTED" id="orgcaeea06">
<p>
The business comprises <i>matching</i> available transportation <b>capacity</b> on one or more <b>routes</b> to <i>deliver</i> a <b>customer</b>&rsquo;s load
from <i>source to destination</i> within some <i>time constraint</i>. A load may be one or more <b>standard palettes</b>, or one or more
<b>standard containers</b>. This results in one or more <b>delivery contracts</b>.
</p>

</div>

<p>
Note also that we have dropped some of the entities from
the original 
</p>

<p>
You can use Annotation Properties to attach documentation properties to your model. In the following example we have
added a <i>preferred label</i> &ldquo;Logistics&rdquo; (line 6), an <i>alternate label</i> &ldquo;Shipping&rdquo; (line 7), and a <i>description</i> (line 8)
annotation to the module itself. Don&rsquo;t worry about the syntax of these for now, that&rsquo;s covered in an advanced topic
later. We have added some to the logistics example in listing <a href="#org375d358">4</a>.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>Initial Logistics Entities</label><pre class="src src-sdml" id="org375d358"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">logistics</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">dc</span> <span style="color: #268bd2;">skos</span> <span style="color: #268bd2;">uuid</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr"> 4: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">gs1</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  <span style="color: #d33682;">@skos:prefLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Logistics"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr"> 7: </span>  <span style="color: #d33682;">@skos:altLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Shipping"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr"> 8: </span>  <span style="color: #d33682;">@dc:description</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"A domain model for long-haul logistics."</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Location</span>
<span class="linenr">11: </span>  <span style="color: #93a1a1; font-style: italic;">; Global Location Number GLN</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">LocationKind</span>
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Consignor</span> <span style="color: #859900;">is</span>
<span class="linenr">16: </span>    <span style="color: #859900;">identity</span> gln <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">GlobalLocationNumber</span>
<span class="linenr">17: </span>    lei <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">gs1:LegalEntityIdentifier</span>
<span class="linenr">18: </span>  <span style="color: #859900;">end</span>
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Consignment</span> <span style="color: #859900;">is</span>
<span class="linenr">21: </span>    <span style="color: #859900;">identity</span> ginc <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalIdentificationNumberForConsignment</span>
<span class="linenr">22: </span>    consignor <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Consignor</span>
<span class="linenr">23: </span>    shipments <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr">24: </span>  <span style="color: #859900;">end</span>
<span class="linenr">25: </span>
<span class="linenr">26: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Shipment</span> <span style="color: #859900;">is</span>
<span class="linenr">27: </span>
<span class="linenr">28: </span>    <span style="color: #d33682;">@editorialNote</span> <span style="color: #859900;">=</span>
<span class="linenr">29: </span>      <span style="color: #2aa198;">"need to add logistic units -- are these entities?"</span>
<span class="linenr">30: </span>
<span class="linenr">31: </span>    <span style="color: #859900;">identity</span> gsin <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalShipmentIdentificationNumber</span>
<span class="linenr">32: </span>    from <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Location</span>
<span class="linenr">33: </span>    to <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Location</span>
<span class="linenr">34: </span>  <span style="color: #859900;">end</span>
<span class="linenr">35: </span>
<span class="linenr">36: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
It is also time to deal with the <code>import</code> statement (lines 3,4) that we have already seen in a number of examples. An import statement
is used to make definitions in other modules available to us in the current module. Import statements are simpler than a
lot of programming languages in that you can import <i>either</i> a module by name <i>or</i> individual definitions within a module.
In either case SDML requires you to use the qualified name of any imported definition. A qualified name is simply the
name of the module followed by a colon and then the name of the definition. In listing <a href="#org375d358">4</a> we
see a single import statement with a list of module names, <code>dc</code> and <code>skos</code>. These modules allow us to reference the
annotation properties <code>dc:description</code>, <code>skos:altLabel</code>, <code>skos:definition</code>, and <code>skos:prefLabel</code>.
</p>

<div class="ADVNOTE" id="orgd6512d7">
<p>
Annotation properties are like constants in programming, they become attached to their enclosing definition and are
immutable. A property is introduced by the initial <code>@</code> character and the property name follows. This property is then
assigned a value, using the datatypes in table <a href="#org0477d9c">1</a>. Some annotations, such as those in listing
<a href="#org375d358">4</a> above, are purely descriptive while others actually affect the semantics of the model
element they are attached to.
</p>

<p>
Strings, as you can see in listing <a href="#org375d358">4</a> may be followed by another <code>@</code> character which
introduces a language tag that identifies the natural language used in the string constant.
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-primer:add-structures-and-enums" class="outline-3">
<h3 id="primer:add-structures-and-enums"><span class="section-number-3">3.2.</span> Add details with Structures and Enums</h3>
<div class="outline-text-3" id="text-primer:add-structures-and-enums">
<p>
Now that you have the key elements of your domain model in place, you can start to see how this becomes the core
vocabulary shared between customers, business, and technical stakeholders. However, a Store, Property, or Shipment are
really not interesting as entities without some more detail. While we did add some of the inter-entity relationships in
the previous section the only entity we added any additional members to was Booking. In the following sections we will
use two more definition types, <i>structures</i> and <i>enumerations</i> to add clarity and structure to the models we have developed
so far.
</p>

<p>
A structure will look very much like an entity in that it has a name and a set of members, however it does not have an
identity member. As this means we cannot include them in an entity by reference to an identifier all structures are
included <i>within</i> any enclosing structure or entity.
</p>

<p>
An enumeration is a list of unique <i>variants</i> that represent distinct options.
</p>
</div>

<div id="outline-container-orge18007b" class="outline-4">
<h4 id="orge18007b"><span class="section-number-4">3.2.1.</span> Retail Example</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
In listing <a href="#org2abba6a">5</a> we have added a common <code>Address</code> structure (line 13) that is used by the
customer, manufacturer, and store entities. This example does not introduce an enumeration directly; however, the
imported type <code>AlphaTwoCountryCode</code> is an enumeration (described in listing <a href="#org2ab458b">6</a> below). Additionally, the
cardinality expression on line 25 introduces a new keyword <code>ordered</code> that is a constraint over the sequence that it&rsquo;s
members <b>must</b> maintain their order, thus the sequence acts as an array or vector. In this example we assume that the 7
elements of the sequence represent the days of the week so ordering would be important (although is the first element
Sunday or Monday?).
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 5: </span>Retail Structures and Enumerations</label><pre class="src src-sdml" id="org2abba6a"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">retail</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">skos</span> <span style="color: #268bd2;">xsd</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr"> 4: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">gs1</span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">iso_17442</span>
<span class="linenr"> 6: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">iso_3166_1</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Customer</span> <span style="color: #859900;">is</span>
<span class="linenr"> 9: </span>    <span style="color: #859900;">identity</span> customer_id <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unknown</span>
<span class="linenr">10: </span>    address <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Address</span>
<span class="linenr">11: </span>  <span style="color: #859900;">end</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Address</span> <span style="color: #859900;">is</span>
<span class="linenr">14: </span>    street <span style="color: #657b83;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #268bd2;">2</span><span style="color: #657b83;">}</span> <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">15: </span>    apartment <span style="color: #657b83;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83;">}</span> <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">16: </span>    city <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">17: </span>    state_or_district <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">18: </span>    postal_code <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">19: </span>    country <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">iso_3166_1:AlphaTwoCountryCode</span>
<span class="linenr">20: </span>  <span style="color: #859900;">end</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Store</span> <span style="color: #859900;">is</span>
<span class="linenr">23: </span>    <span style="color: #859900;">identity</span> location_number <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalLocationNumber</span>
<span class="linenr">24: </span>    address <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Address</span>
<span class="linenr">25: </span>    open_hours <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #859900;">ordered</span> <span style="color: #268bd2;">7</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Hours</span>
<span class="linenr">26: </span>    has_pickup <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">boolean</span>
<span class="linenr">27: </span>  <span style="color: #859900;">end</span>
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Hours</span> <span style="color: #859900;">is</span>
<span class="linenr">30: </span>    open <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:time</span>
<span class="linenr">31: </span>    close <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:time</span>
<span class="linenr">32: </span>  <span style="color: #859900;">end</span>
<span class="linenr">33: </span>
<span class="linenr">34: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Purchase</span>
<span class="linenr">35: </span>
<span class="linenr">36: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Item</span> <span style="color: #859900;">is</span>
<span class="linenr">37: </span>    <span style="color: #d33682;">@skos:note</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"See following advanced topic."</span>
<span class="linenr">38: </span>    <span style="color: #859900;">identity</span> gtin <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalTradeItemNumber</span>
<span class="linenr">39: </span>    description <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">40: </span>    manufacturer <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Manufacturer</span>
<span class="linenr">41: </span>  <span style="color: #859900;">end</span>
<span class="linenr">42: </span>
<span class="linenr">43: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Manufacturer</span> <span style="color: #859900;">is</span>
<span class="linenr">44: </span>    <span style="color: #859900;">identity</span> manufacturer_id <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">iso_17442:LegalEntityId</span>
<span class="linenr">45: </span>    address <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Address</span>
<span class="linenr">46: </span>  <span style="color: #859900;">end</span>
<span class="linenr">47: </span>
<span class="linenr">48: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
The following listing shows the definition of the enumeration <code>AlphaTwoCountryCode</code>. The whitespace in this example should
be ignored, it is just useful to layout a grid of 26 rows of 26 columns for all the possible combination of two ASCII
upper case letters.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 6: </span>ISO Country Code enum</label><pre class="src src-sdml" id="org2ab458b"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">iso_3166_1</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">AlphaTwoCountryCode</span> <span style="color: #859900;">of</span>
<span class="linenr"> 4: </span>             <span style="color: #268bd2;">AD</span> <span style="color: #268bd2;">AE</span> <span style="color: #268bd2;">AF</span> <span style="color: #268bd2;">AG</span>    <span style="color: #268bd2;">AI</span>       <span style="color: #268bd2;">AL</span> <span style="color: #268bd2;">AM</span>    <span style="color: #268bd2;">AO</span>    <span style="color: #268bd2;">AQ</span> <span style="color: #268bd2;">AR</span> <span style="color: #268bd2;">AS</span> <span style="color: #268bd2;">AT</span> <span style="color: #268bd2;">AU</span>    <span style="color: #268bd2;">AW</span> <span style="color: #268bd2;">AX</span>    <span style="color: #268bd2;">AZ</span>
<span class="linenr"> 5: </span>    <span style="color: #268bd2;">BA</span> <span style="color: #268bd2;">BB</span>    <span style="color: #268bd2;">BD</span> <span style="color: #268bd2;">BE</span> <span style="color: #268bd2;">BF</span> <span style="color: #268bd2;">BG</span> <span style="color: #268bd2;">BH</span> <span style="color: #268bd2;">BI</span> <span style="color: #268bd2;">BJ</span>    <span style="color: #268bd2;">BL</span> <span style="color: #268bd2;">BM</span> <span style="color: #268bd2;">BN</span> <span style="color: #268bd2;">BO</span>    <span style="color: #268bd2;">BQ</span> <span style="color: #268bd2;">BR</span> <span style="color: #268bd2;">BS</span> <span style="color: #268bd2;">BT</span>    <span style="color: #268bd2;">BV</span> <span style="color: #268bd2;">BW</span>    <span style="color: #268bd2;">BY</span> <span style="color: #268bd2;">BZ</span>
<span class="linenr"> 6: </span>    <span style="color: #268bd2;">CA</span>    <span style="color: #268bd2;">CC</span> <span style="color: #268bd2;">CD</span>    <span style="color: #268bd2;">CF</span> <span style="color: #268bd2;">CG</span> <span style="color: #268bd2;">CH</span> <span style="color: #268bd2;">CI</span>    <span style="color: #268bd2;">CK</span> <span style="color: #268bd2;">CL</span> <span style="color: #268bd2;">CM</span> <span style="color: #268bd2;">CN</span> <span style="color: #268bd2;">CO</span>       <span style="color: #268bd2;">CR</span>       <span style="color: #268bd2;">CU</span> <span style="color: #268bd2;">CV</span> <span style="color: #268bd2;">CW</span> <span style="color: #268bd2;">CX</span> <span style="color: #268bd2;">CY</span> <span style="color: #268bd2;">CZ</span>
<span class="linenr"> 7: </span>                <span style="color: #268bd2;">DE</span>             <span style="color: #268bd2;">DJ</span> <span style="color: #268bd2;">DK</span>    <span style="color: #268bd2;">DM</span>    <span style="color: #268bd2;">DO</span>                               <span style="color: #268bd2;">DZ</span>
<span class="linenr"> 8: </span>          <span style="color: #268bd2;">EC</span>    <span style="color: #268bd2;">EE</span>    <span style="color: #268bd2;">EG</span> <span style="color: #268bd2;">EH</span>                            <span style="color: #268bd2;">ER</span> <span style="color: #268bd2;">ES</span> <span style="color: #268bd2;">ET</span> 
<span class="linenr"> 9: </span>                            <span style="color: #268bd2;">FI</span> <span style="color: #268bd2;">FJ</span> <span style="color: #268bd2;">FK</span>    <span style="color: #268bd2;">FM</span>    <span style="color: #268bd2;">FO</span>       <span style="color: #268bd2;">FR</span>
<span class="linenr">10: </span>    <span style="color: #93a1a1; font-style: italic;">;; ...</span>
<span class="linenr">11: </span>    <span style="color: #93a1a1; font-style: italic;">;; ...</span>
<span class="linenr">12: </span>    <span style="color: #93a1a1; font-style: italic;">;; ...</span>
<span class="linenr">13: </span>    <span style="color: #268bd2;">VA</span>    <span style="color: #268bd2;">VC</span>    <span style="color: #268bd2;">VE</span>    <span style="color: #268bd2;">VG</span>    <span style="color: #268bd2;">VI</span>             <span style="color: #268bd2;">VN</span>                   <span style="color: #268bd2;">VU</span>
<span class="linenr">14: </span>                   <span style="color: #268bd2;">WF</span>                                     <span style="color: #268bd2;">WS</span>
<span class="linenr">15: </span>                <span style="color: #268bd2;">YE</span>                                           <span style="color: #268bd2;">YT</span>
<span class="linenr">16: </span>    <span style="color: #268bd2;">ZA</span>                                  <span style="color: #268bd2;">ZM</span>                            <span style="color: #268bd2;">ZW</span>
<span class="linenr">17: </span>  <span style="color: #859900;">end</span>
<span class="linenr">18: </span>
<span class="linenr">19: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
Given this module name, <code>iso_3166_1</code>, we should explain the use of underscores in module names. While any name in SDML <i>may</i>
include underscores, typically as a word separator, the convention in module names is to use the underscore to note any
logical hierarchy in definitions. So we have all ISO standards start with <code>iso_</code> followed by the standard number <code>3166</code> and
then in this case the part number <code>_1</code>.
</p>

<div class="ADVNOTE" id="org108fc8b">
<p>
Consider using custom datatypes to constrain basic types to avoid errors. For example, in listing <a href="#org2abba6a">5</a> the
identifier for an <code>Item</code> (line 36) is a GTIN or Global Trade Item Number. This standardized identifier has a number of specific
formats but the shortest of those is 8 characters and the longest is 13 characters. So, we create a new datatype which
<i>restricts</i> the basic string to between 8 and 13 characters only using a regex pattern using an annotation property. This
datatype and another standard from GS1 is shown in listing <a href="#orgf6e2b48">7</a>.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 7: </span>GS1 Standard Datatypes</label><pre class="src src-sdml" id="orgf6e2b48"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">gs1</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">xsd</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">GlobalLocationNumber</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span> <span style="color: #859900;">is</span>
<span class="linenr"> 6: </span>    <span style="color: #d33682;">@xsd:pattern</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"^[0-9]{13}$"</span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">GlobalTradeItemNumber</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span> <span style="color: #859900;">is</span>
<span class="linenr">10: </span>    <span style="color: #d33682;">@xsd:pattern</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"(^[0-9]{8}$)|(^[0-9]{13}$)|(^[0-9]{14}$)"</span>
<span class="linenr">11: </span>  <span style="color: #859900;">end</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
Table <a href="#org0477d9c">1</a> lists the annotation properties that can you can use to restrict existing datatypes. All
<i>scalar</i> types have the following additional constraints; <code>maxInclusive</code>, <code>maxExclusive</code>, <code>minInclusive</code>, and <code>minExclusive</code>.
</p>

<table id="org5a52fb0" border="0" cellspacing="0" cellpadding="6" rules="none" frame="none">
<caption class="t-above"><span class="table-number">Table 2:</span> Datatype Constraints</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Datatype</th>
<th scope="col" class="org-left">Builtin Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>binary</code></td>
<td class="org-left"><code>minLength</code>, <code>maxLength</code>, and <code>length</code></td>
</tr>

<tr>
<td class="org-left"><code>boolean</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>decimal</code></td>
<td class="org-left"><code>pattern</code>, <code>totalDigits</code>, <code>fractionDigits</code>, and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>double</code></td>
<td class="org-left"><code>pattern</code>, and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>integer</code></td>
<td class="org-left"><code>pattern</code>, and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>string</code></td>
<td class="org-left"><code>pattern</code>, <code>minLength</code>, <code>maxLength</code>, <code>length</code>, and <code>langRange</code></td>
</tr>

<tr>
<td class="org-left"><code>unsigned</code></td>
<td class="org-left"><code>pattern</code>, and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>uri</code></td>
<td class="org-left"><code>pattern</code>, <code>minLength</code>, <code>maxLength</code>, and <code>length</code></td>
</tr>

<tr>
<td class="org-left"><code>xsd:date</code></td>
<td class="org-left"><code>pattern</code>, <code>explicitTimezone</code> and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>xsd:time</code></td>
<td class="org-left"><code>pattern</code>, <code>explicitTimezone</code> and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>xsd:dateTime</code></td>
<td class="org-left"><code>pattern</code>, <code>explicitTimezone</code> and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left"><code>xsd:duration</code></td>
<td class="org-left"><code>pattern</code>, <code>explicitTimezone</code> and <i>scalar</i></td>
</tr>

<tr>
<td class="org-left">Sequence Types</td>
<td class="org-left"><code>pattern</code>, <code>minLength</code>, <code>maxLength</code>, and <code>length</code></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>

<div id="outline-container-orga76007d" class="outline-4">
<h4 id="orga76007d"><span class="section-number-4">3.2.2.</span> Hospitality Example</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Listing <a href="#orgb11b45e">8</a> adds 2 datatype definitions, 1 enum definition, and 7 structure definitions.
We have also made the previous entity <code>Room</code> a structure as it is dependent wholly on the valid entity <code>Property</code>. Lines 79
and 85 introduce a new sequence constraint with the keyword <code>unique</code> that requires members of the sequence to be unique,
effectively defining the sequence as a set.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 8: </span>Hospitality Structures and Enumerations</label><pre class="src src-sdml" id="orgb11b45e"><span class="linenr">  1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality</span> <span style="color: #859900;">is</span>
<span class="linenr">  2: </span>
<span class="linenr">  3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">xsd</span>
<span class="linenr">  4: </span>
<span class="linenr">  5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr">  6: </span>
<span class="linenr">  7: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Booking</span> <span style="color: #859900;">is</span>
<span class="linenr">  8: </span>    <span style="color: #859900;">identity</span> booking_code <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">  9: </span>    customer <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr"> 10: </span>    property <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Property</span>
<span class="linenr"> 11: </span>    room_style <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">RoomStyle</span>
<span class="linenr"> 12: </span>    room_rate <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Currency</span>
<span class="linenr"> 13: </span>    dates <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">DateRange</span>
<span class="linenr"> 14: </span>    number_of_adults <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">integer</span>
<span class="linenr"> 15: </span>    number_of_children <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">integer</span>
<span class="linenr"> 16: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 17: </span>
<span class="linenr"> 18: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Property</span> <span style="color: #859900;">is</span>
<span class="linenr"> 19: </span>    <span style="color: #859900;">identity</span> property_id <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unsigned</span>
<span class="linenr"> 20: </span>    name <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 21: </span>    styles <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">RoomStyle</span>
<span class="linenr"> 22: </span>    rooms <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Room</span>
<span class="linenr"> 23: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 24: </span>
<span class="linenr"> 25: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Bill</span> <span style="color: #859900;">is</span>
<span class="linenr"> 26: </span>    <span style="color: #859900;">identity</span> transaction_id <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unknown</span>
<span class="linenr"> 27: </span>    for_stay <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Stay</span>
<span class="linenr"> 28: </span>    charges <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Purchase</span>
<span class="linenr"> 29: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 30: </span>
<span class="linenr"> 31: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Stay</span> <span style="color: #859900;">is</span>
<span class="linenr"> 32: </span>    <span style="color: #859900;">identity</span> id <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unknown</span>
<span class="linenr"> 33: </span>    booking <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Booking</span>
<span class="linenr"> 34: </span>    room_number <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unsigned</span>
<span class="linenr"> 35: </span>    room_rate <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Currency</span> <span style="color: #93a1a1; font-style: italic;">;; if different from booking</span>
<span class="linenr"> 36: </span>    dates <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">DateRange</span>
<span class="linenr"> 37: </span>    tax_percent <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">RatePercentage</span>
<span class="linenr"> 38: </span>    discount_percent <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">RatePercentage</span>
<span class="linenr"> 39: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 40: </span>
<span class="linenr"> 41: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">Currency</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">decimal</span> <span style="color: #859900;">is</span>
<span class="linenr"> 42: </span>    <span style="color: #d33682;">@xsd:totalDigits</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">9</span>
<span class="linenr"> 43: </span>    <span style="color: #d33682;">@xsd:fractionDigits</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">3</span>
<span class="linenr"> 44: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 45: </span>
<span class="linenr"> 46: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">RatePercentage</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">decimal</span> <span style="color: #859900;">is</span>
<span class="linenr"> 47: </span>    <span style="color: #d33682;">@xsd:totalDigits</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">5</span>
<span class="linenr"> 48: </span>    <span style="color: #d33682;">@xsd:fractionDigits</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">3</span>
<span class="linenr"> 49: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 50: </span>
<span class="linenr"> 51: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">RoomFeature</span> <span style="color: #859900;">of</span>
<span class="linenr"> 52: </span>    <span style="color: #268bd2;">View</span>
<span class="linenr"> 53: </span>    <span style="color: #268bd2;">NonSmoking</span>
<span class="linenr"> 54: </span>    <span style="color: #268bd2;">Smoking</span>
<span class="linenr"> 55: </span>    <span style="color: #268bd2;">Accessible</span>
<span class="linenr"> 56: </span>    <span style="color: #268bd2;">OneSingleBed</span>
<span class="linenr"> 57: </span>    <span style="color: #268bd2;">OneDoubleBed</span>
<span class="linenr"> 58: </span>    <span style="color: #268bd2;">OneQueenBed</span>
<span class="linenr"> 59: </span>    <span style="color: #268bd2;">OneKingBed</span>
<span class="linenr"> 60: </span>    <span style="color: #268bd2;">TwoSingleBeds</span>
<span class="linenr"> 61: </span>    <span style="color: #268bd2;">TwoDoubleBeds</span>
<span class="linenr"> 62: </span>    <span style="color: #268bd2;">TwoQueenBeds</span>
<span class="linenr"> 63: </span>    <span style="color: #268bd2;">TwoKingBeds</span>
<span class="linenr"> 64: </span>    <span style="color: #268bd2;">Suite</span>
<span class="linenr"> 65: </span>    <span style="color: #268bd2;">Fridge</span>
<span class="linenr"> 66: </span>    <span style="color: #268bd2;">Kitchen</span>
<span class="linenr"> 67: </span>    <span style="color: #268bd2;">Balcony</span>
<span class="linenr"> 68: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 69: </span>
<span class="linenr"> 70: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">DateRange</span> <span style="color: #859900;">is</span>
<span class="linenr"> 71: </span>    starts <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:date</span>
<span class="linenr"> 72: </span>    ends <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:date</span>
<span class="linenr"> 73: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 74: </span>
<span class="linenr"> 75: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Room</span> <span style="color: #859900;">is</span>
<span class="linenr"> 76: </span>    number <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unsigned</span>
<span class="linenr"> 77: </span>    floor <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">unsigned</span>
<span class="linenr"> 78: </span>    style <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">RoomStyle</span>
<span class="linenr"> 79: </span>    additional_features <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #859900;">unique</span> <span style="color: #268bd2;">0</span><span style="color: #859900;">..</span>*<span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">RoomFeature</span>
<span class="linenr"> 80: </span>    rate <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Currency</span>
<span class="linenr"> 81: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 82: </span>
<span class="linenr"> 83: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">RoomStyle</span> <span style="color: #859900;">is</span>
<span class="linenr"> 84: </span>    name <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 85: </span>    features <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #859900;">unique</span> <span style="color: #268bd2;">1</span><span style="color: #859900;">..</span>*<span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">RoomFeature</span>
<span class="linenr"> 86: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 87: </span>
<span class="linenr"> 88: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Charge</span> <span style="color: #859900;">is</span>
<span class="linenr"> 89: </span>    item <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 90: </span>    provider <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 91: </span>    charge <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">decimal</span>
<span class="linenr"> 92: </span>    tax_percent <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">RatePercentage</span>
<span class="linenr"> 93: </span>    discount_percent <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">RatePercentage</span>
<span class="linenr"> 94: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 95: </span>
<span class="linenr"> 96: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Purchase</span> <span style="color: #859900;">is</span>
<span class="linenr"> 97: </span>    stay <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Stay</span>
<span class="linenr"> 98: </span>    charges <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Charge</span>
<span class="linenr"> 99: </span>    payment <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Payment</span>
<span class="linenr">100: </span>  <span style="color: #859900;">end</span>
<span class="linenr">101: </span>
<span class="linenr">102: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Payment</span> <span style="color: #859900;">is</span>
<span class="linenr">103: </span>    amount <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Currency</span>
<span class="linenr">104: </span>    instrument <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">PaymentInstrument</span>
<span class="linenr">105: </span>  <span style="color: #859900;">end</span>
<span class="linenr">106: </span>
<span class="linenr">107: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">PaymentInstrument</span>
<span class="linenr">108: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
While this module has added a lot of detail, one structure at the end, <code>PaymentInstrument</code> is not yet complete. Be
patient, we will come back to that in the section <a href="#primer:add-unions">3.4</a> later.
</p>

<div class="ADVNOTE" id="orge64cb1f">
<p>
You can add a specific type of annotation, a constraint, to capture conditions that cannot be expressed by the model&rsquo;s
structure alone. For example, in listing <a href="#org7f04a9c">9</a> we have a simple structure that contains a start date
and an end date. They are correctly typed so we know they have to be dates, but what if we were to set the start date to
be after the end date, how do we validate that? Can we?
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 9: </span>Hospitality Entities</label><pre class="src src-sdml" id="org7f04a9c"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">xsd</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">DateRange</span> <span style="color: #859900;">is</span>
<span class="linenr"> 6: </span>    <span style="color: #859900;">assert</span> <span style="color: #d33682;">valid_range</span> <span style="color: #859900;">=</span> <span style="color: #657b83; background-color: #fdf6e3;">"range starts before it ends"</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>    <span style="color: #859900;">assert</span> <span style="color: #d33682;">formal_range</span> <span style="color: #859900;">is</span>
<span class="linenr"> 9: </span>      <span style="color: #859900;">forall</span> <span style="color: #6c71c4;">self</span>, <span style="color: #6c71c4;">self</span><span style="color: #657b83; background-color: #fdf6e3;">.</span><span style="color: #b58900;">starts</span> &lt;= <span style="color: #6c71c4;">self</span><span style="color: #657b83; background-color: #fdf6e3;">.</span><span style="color: #b58900;">ends</span>
<span class="linenr">10: </span>    <span style="color: #859900;">end</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>    starts <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:date</span>
<span class="linenr">13: </span>    ends <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:date</span>
<span class="linenr">14: </span>  <span style="color: #859900;">end</span>
<span class="linenr">15: </span>
<span class="linenr">16: </span><span style="color: #859900;">end</span>
</pre>
</div>

</div>
</div>
</div>

<div id="outline-container-orga65691e" class="outline-4">
<h4 id="orga65691e"><span class="section-number-4">3.2.3.</span> Logistics Example</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
The detail added to the logistics example is extensive, but some highlights are the use of &ldquo;kind&rdquo; enumerations for
<code>Location</code> (line 10), <code>LogisticsUnit</code> (line 48), and <code>LogisticsAsset</code> (line 103). We have also added a constraint to the
logistics unit structure which enforces a rule that a box may not include other units. The more astute reader will note
that this is woefully insufficient as it does not stop us defining a unit of kind palette which includes a unit of kind
rail car &#x2013; that&rsquo;s some big palette.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 10: </span>Logistics Structures and Enumerations</label><pre class="src src-sdml" id="org2e5ac18"><span class="linenr">  1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">logistics</span> <span style="color: #859900;">is</span>
<span class="linenr">  2: </span>
<span class="linenr">  3: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">dc</span> <span style="color: #268bd2;">owl</span> <span style="color: #268bd2;">rdf</span> <span style="color: #268bd2;">skos</span> <span style="color: #268bd2;">uuid</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr">  4: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">gs1</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr">  5: </span>
<span class="linenr">  6: </span>  <span style="color: #d33682;">@skos:prefLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Logistics"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr">  7: </span>  <span style="color: #d33682;">@skos:altLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Shipping"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr">  8: </span>  <span style="color: #d33682;">@dc:description</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"A domain model for long-haul logistics."</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr">  9: </span>
<span class="linenr"> 10: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Location</span> <span style="color: #859900;">is</span>
<span class="linenr"> 11: </span>    <span style="color: #859900;">identity</span> gln <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalLocationNumber</span>
<span class="linenr"> 12: </span>    kind <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">LocationKind</span>
<span class="linenr"> 13: </span>    within <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Location</span>
<span class="linenr"> 14: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 15: </span>
<span class="linenr"> 16: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">LocationKind</span> <span style="color: #859900;">of</span>
<span class="linenr"> 17: </span>    <span style="color: #268bd2;">Office</span>
<span class="linenr"> 18: </span>    <span style="color: #268bd2;">Warehouse</span>
<span class="linenr"> 19: </span>    <span style="color: #268bd2;">WarehouseYard</span>
<span class="linenr"> 20: </span>    <span style="color: #268bd2;">WarehouseDock</span>
<span class="linenr"> 21: </span>    <span style="color: #268bd2;">RailDepot</span>
<span class="linenr"> 22: </span>    <span style="color: #268bd2;">RailYard</span>
<span class="linenr"> 23: </span>    <span style="color: #268bd2;">Port</span>
<span class="linenr"> 24: </span>    <span style="color: #268bd2;">PortLoading</span>
<span class="linenr"> 25: </span>    <span style="color: #268bd2;">Airport</span>
<span class="linenr"> 26: </span>    <span style="color: #268bd2;">AirportTransfer</span>
<span class="linenr"> 27: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 28: </span>
<span class="linenr"> 29: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Consignor</span> <span style="color: #859900;">is</span>
<span class="linenr"> 30: </span>    <span style="color: #859900;">identity</span> gln <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalLocationNumber</span>
<span class="linenr"> 31: </span>    lei <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">gs1:LegalEntityIdentifier</span>
<span class="linenr"> 32: </span>    name <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 33: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 34: </span>
<span class="linenr"> 35: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Consignment</span> <span style="color: #859900;">is</span>
<span class="linenr"> 36: </span>    <span style="color: #859900;">identity</span> ginc <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalIdentificationNumberForConsignment</span>
<span class="linenr"> 37: </span>    consignor <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Consignor</span>
<span class="linenr"> 38: </span>    shipments <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr"> 39: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 40: </span>
<span class="linenr"> 41: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Shipment</span> <span style="color: #859900;">is</span>
<span class="linenr"> 42: </span>    <span style="color: #859900;">identity</span> gsin <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalShipmentIdentificationNumber</span>
<span class="linenr"> 43: </span>    from <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Location</span>
<span class="linenr"> 44: </span>    to <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Location</span>
<span class="linenr"> 45: </span>    units <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">LogisticsUnit</span>
<span class="linenr"> 46: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 47: </span>
<span class="linenr"> 48: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">LogisticsUnit</span> <span style="color: #859900;">is</span>
<span class="linenr"> 49: </span>    <span style="color: #859900;">assert</span> <span style="color: #d33682;">can_include_others</span> <span style="color: #859900;">=</span> <span style="color: #657b83; background-color: #fdf6e3;">"not empty(includes) implies not kind = Box"</span>
<span class="linenr"> 50: </span>    sscc <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:SerialShippingContainerCode</span>
<span class="linenr"> 51: </span>    kind <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">LogisticsUnitKind</span>
<span class="linenr"> 52: </span>    asset <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">LogisticsAsset</span>
<span class="linenr"> 53: </span>    dimension <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Dimensions</span>
<span class="linenr"> 54: </span>    weight <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">decimal</span>
<span class="linenr"> 55: </span>    hazmat_classification <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #859900;">unique</span> <span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">9</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">DotHazardClassification</span>
<span class="linenr"> 56: </span>    includes <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">LogisticsUnit</span>
<span class="linenr"> 57: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 58: </span>
<span class="linenr"> 59: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">LogisticsUnitKind</span> <span style="color: #859900;">of</span>
<span class="linenr"> 60: </span>    <span style="color: #268bd2;">Box</span>
<span class="linenr"> 61: </span>    <span style="color: #268bd2;">Pallet</span>
<span class="linenr"> 62: </span>    <span style="color: #268bd2;">PalletStack</span>
<span class="linenr"> 63: </span>    <span style="color: #268bd2;">Container</span>
<span class="linenr"> 64: </span>    <span style="color: #268bd2;">RailCar</span>
<span class="linenr"> 65: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 66: </span>
<span class="linenr"> 67: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">DotHazardClassification</span> <span style="color: #859900;">of</span>
<span class="linenr"> 68: </span>    <span style="color: #d33682;">@owl:equivalentClass</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">unsigned</span>
<span class="linenr"> 69: </span>    <span style="color: #268bd2;">Explosives</span> <span style="color: #859900;">is</span>
<span class="linenr"> 70: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">1</span>
<span class="linenr"> 71: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 72: </span>    <span style="color: #268bd2;">Gasses</span> <span style="color: #859900;">is</span>
<span class="linenr"> 73: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">2</span>
<span class="linenr"> 74: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 75: </span>    <span style="color: #268bd2;">FlammableLiquids</span> <span style="color: #859900;">is</span>
<span class="linenr"> 76: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">3</span>
<span class="linenr"> 77: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 78: </span>    <span style="color: #268bd2;">FlammableSolids</span> <span style="color: #859900;">is</span>
<span class="linenr"> 79: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">4</span>
<span class="linenr"> 80: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 81: </span>    <span style="color: #268bd2;">OxodizingSubstances</span> <span style="color: #859900;">is</span>
<span class="linenr"> 82: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">5</span>
<span class="linenr"> 83: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 84: </span>    <span style="color: #268bd2;">ToxicSubstances</span> <span style="color: #859900;">is</span>
<span class="linenr"> 85: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">6</span>
<span class="linenr"> 86: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 87: </span>    <span style="color: #268bd2;">RadioactiveMaterials</span> <span style="color: #859900;">is</span>
<span class="linenr"> 88: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">7</span>
<span class="linenr"> 89: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 90: </span>    <span style="color: #268bd2;">CorrosiveSubstances</span> <span style="color: #859900;">is</span>
<span class="linenr"> 91: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">8</span>
<span class="linenr"> 92: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 93: </span>    <span style="color: #268bd2;">MiscellaneousDangerousMaterials</span> <span style="color: #859900;">is</span>
<span class="linenr"> 94: </span>      <span style="color: #d33682;">@rdf:value</span> <span style="color: #859900;">=</span> <span style="color: #268bd2;">9</span>
<span class="linenr"> 95: </span>    <span style="color: #859900;">end</span>
<span class="linenr"> 96: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 97: </span>
<span class="linenr"> 98: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">Dimensions</span> <span style="color: #859900;">is</span>
<span class="linenr"> 99: </span>    height <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">decimal</span>
<span class="linenr">100: </span>    width <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">decimal</span>
<span class="linenr">101: </span>    depth <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">decimal</span>
<span class="linenr">102: </span>  <span style="color: #859900;">end</span>
<span class="linenr">103: </span>
<span class="linenr">104: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">LogisticsAsset</span> <span style="color: #859900;">is</span>
<span class="linenr">105: </span>    grai <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">gs1:GlobalReturnableAssetIdentifier</span>
<span class="linenr">106: </span>    kind <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">LogisticsAssetKind</span>
<span class="linenr">107: </span>  <span style="color: #859900;">end</span>
<span class="linenr">108: </span>
<span class="linenr">109: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">LogisticsAssetKind</span> <span style="color: #859900;">of</span>
<span class="linenr">110: </span>    <span style="color: #268bd2;">Pallet</span>
<span class="linenr">111: </span>    <span style="color: #268bd2;">Container</span>
<span class="linenr">112: </span>    <span style="color: #268bd2;">RailCar</span>
<span class="linenr">113: </span>  <span style="color: #859900;">end</span>
<span class="linenr">114: </span>
<span class="linenr">115: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
You will probably be thinking that all this detail is making the module quite large and possibly cumbersome. In the
following section (<a href="#primer:add-events">3.3</a>) we will discuss approaches to organizing modules to allow not only ease of navigation
but also parallel editing.
</p>

<div class="ADVNOTE" id="org4e16c1c">
<p>
The enumeration <code>DotHazardClassification</code> in listing <a href="#org2e5ac18">10</a> above probably looks
intimidating compared to the previous examples, and that&rsquo;s OK. This enumeration represents the U.S. Department of
Transportation&rsquo;s Federal Motor Carrier Safety Administration&rsquo;s  &ldquo;Nine Classes of Hazardous Material&rdquo; classification. As
such the values one through nine are defined by government and so we want to be able to associate those values with the
variants of the enum.
</p>

<p>
We use two key annotation properties that affect the semantics of the enum.
</p>

<dl class="org-dl">
<dt><code>rdf:value</code></dt><dd>this denotes the relationship between the variant and a specific value. It is not important that the
values are numbers, only that they are of the same type and unique.</dd>
<dt><code>owl:equivalentClass</code></dt><dd>this denotes that the enumeration may be <i>considered equivalent</i> to the some type. It is
important that all values attached to variants are valid for the type attached to the enum.</dd>
</dl>

<p>
Also, the cardinality expression on member <code>hazmat_classification</code> is <code>{unique 1..9}</code>, to denote that while a unit may
contain a combination of coded materials each code appears only once.
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-primer:add-events" class="outline-3">
<h3 id="primer:add-events"><span class="section-number-3">3.3.</span> Describe Events emitted by Entities</h3>
<div class="outline-text-3" id="text-primer:add-events">
<p>
SDML does not have a language for describing behavior, so no sequence, activity, state machine, or other diagrams. Given
that the domain model should describe the <i>what</i> of a domain, not the <i>how</i> it is too tempting to start to describe the
behavior inside the domain, it&rsquo;s operating rules. Additionally, when describing a domain model it is often the case that
the language used by stakeholders to describe any functional aspect of the model tends to be asynchronous and loosely
coupled. To support this SDML provides the <code>event</code> definition, a way to describe events emitted by entities on state
changes or other internal rules, but importantly these are part of the natural description/vocabulary of the domain.
</p>

<p>
An event looks very much like a structure, but is has a <code>source</code> keyword followed by the name of the entity which emits
this event. In fact the similarity between an event and a structure is not accidental as it&rsquo;s possible to see an event
definition as some additional syntax for a structure which, and this is the important part, contains a reference to an
instance of the entity type. In listing <a href="#org66252d9">11</a> we have a simple entity (line 5) and a simple event
(line 10) emitted by the entity. If we were to create an equivalent structure it might look like that defined on line
13, which in turn is equivalent to the second structure on line 18.  
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 11: </span>Event De-Sugaring</label><pre class="src src-sdml" id="org66252d9"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">example</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">uuid</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Example</span> <span style="color: #859900;">is</span>
<span class="linenr"> 6: </span>    <span style="color: #859900;">identity</span> id <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">uuid:Uuid</span>
<span class="linenr"> 7: </span>    some_other_thing <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">integer</span>
<span class="linenr"> 8: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">ExampleCreated</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Example</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #93a1a1; font-style: italic;">;; the above event is "equivalent" to the structure below</span>
<span class="linenr">13: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">ExampleCreatedStructure</span> <span style="color: #859900;">is</span>
<span class="linenr">14: </span>    source_entity <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Example</span>
<span class="linenr">15: </span>  <span style="color: #859900;">end</span>
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #93a1a1; font-style: italic;">;; the above is also "equivalent" to the structure below</span>
<span class="linenr">18: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">ExampleCreatedStructure2</span> <span style="color: #859900;">is</span>
<span class="linenr">19: </span>    source_entity_id <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">uuid:Uuid</span>
<span class="linenr">20: </span>  <span style="color: #859900;">end</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span><span style="color: #859900;">end</span>
</pre>
</div>

<p>
One specific different between a structure definition and an event definition is that the former without an explicit
body (between <code>is</code> and <code>end</code>) is incomplete, an event does not need a body as it does already have a single member, the
source entity. In many cases events need only be a distinct type with a reference to the particular entity and no other
information.
</p>
</div>

<div id="outline-container-org145a32d" class="outline-4">
<h4 id="org145a32d"><span class="section-number-4">3.3.1.</span> Retail Example</h4>
<div class="outline-text-4" id="text-3-3-1">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 12: </span>Events for Retail Customers</label><pre class="src src-sdml" id="org4d3e724"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">retail_customers</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Purchase</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">ItemQuantity</span> <span style="color: #859900;">is</span>
<span class="linenr"> 8: </span>    item <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Item</span>
<span class="linenr"> 9: </span>    quantity <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">integer</span>
<span class="linenr">10: </span>  <span style="color: #859900;">end</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">InventoryAdjustment</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Purchase</span> <span style="color: #859900;">is</span>
<span class="linenr">13: </span>    adjustments <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">1</span><span style="color: #859900;">..</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">ItemQuantity</span>
<span class="linenr">14: </span>  <span style="color: #859900;">end</span>
<span class="linenr">15: </span>
<span class="linenr">16: </span><span style="color: #859900;">end</span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 13: </span>Events for Retail Stores</label><pre class="src src-sdml" id="org186ba88"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">retail</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Store</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">StoreNowOpen</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Store</span> <span style="color: #859900;">is</span>
<span class="linenr"> 6: </span>    at <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:dateTime</span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">end</span>
<span class="linenr"> 8: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">StoreNowClosed</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Store</span> <span style="color: #859900;">is</span>
<span class="linenr"> 9: </span>    at <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">xsd:dateTime</span>
<span class="linenr">10: </span>  <span style="color: #859900;">end</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #859900;">end</span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 14: </span>Events for Retail Items</label><pre class="src src-sdml" id="org48b75fc"><span class="linenr">1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">retail</span> <span style="color: #859900;">is</span>
<span class="linenr">2: </span>
<span class="linenr">3: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Item</span>
<span class="linenr">4: </span>
<span class="linenr">5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Manufacturer</span>
<span class="linenr">6: </span>
<span class="linenr">7: </span><span style="color: #859900;">end</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge7ba423" class="outline-4">
<h4 id="orge7ba423"><span class="section-number-4">3.3.2.</span> Hospitality Example</h4>
<div class="outline-text-4" id="text-3-3-2">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 15: </span>Events for Hospitality Customers</label><pre class="src src-sdml" id="orgeaaeb4a"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality_customers</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Customer</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Booking</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">BookingChange</span> <span style="color: #859900;">of</span>
<span class="linenr"> 8: </span>    <span style="color: #268bd2;">RoomStyle</span>
<span class="linenr"> 9: </span>    <span style="color: #268bd2;">Dates</span>
<span class="linenr">10: </span>    <span style="color: #268bd2;">Occupancy</span>
<span class="linenr">11: </span>  <span style="color: #859900;">end</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">BookingCreated</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Booking</span>
<span class="linenr">14: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">BookingUpdated</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Booking</span> <span style="color: #859900;">is</span>
<span class="linenr">15: </span>    what_changed <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">BookingChange</span>
<span class="linenr">16: </span>  <span style="color: #859900;">end</span>
<span class="linenr">17: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">BookingCanceled</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Booking</span> <span style="color: #859900;">is</span>
<span class="linenr">18: </span>    reason <span style="color: #859900;">-&gt;</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">19: </span>  <span style="color: #859900;">end</span>
<span class="linenr">20: </span>
<span class="linenr">21: </span><span style="color: #859900;">end</span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 16: </span>Events for Hospitality Properties</label><pre class="src src-sdml" id="orga68cd9d"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality_properties</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Property</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Stay</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">CheckedIn</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Stay</span>
<span class="linenr"> 8: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">CheckedOut</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Stay</span>
<span class="linenr"> 9: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">RoomCharged</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Stay</span> <span style="color: #859900;">is</span>
<span class="linenr">10: </span>    charge <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Charge</span>
<span class="linenr">11: </span>  <span style="color: #859900;">end</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Bill</span>
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">BillReady</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Bill</span>
<span class="linenr">16: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">PaymentMade</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Bill</span> <span style="color: #859900;">is</span>
<span class="linenr">17: </span>    payment <span style="color: #859900;">-&gt;</span> <span style="color: #268bd2;">Payment</span>
<span class="linenr">18: </span>  <span style="color: #859900;">end</span>
<span class="linenr">19: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">Settled</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Bill</span>
<span class="linenr">20: </span>
<span class="linenr">21: </span><span style="color: #859900;">end</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0acc67c" class="outline-4">
<h4 id="org0acc67c"><span class="section-number-4">3.3.3.</span> Logistics Example</h4>
<div class="outline-text-4" id="text-3-3-3">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 17: </span>Logistics Events</label><pre class="src src-sdml" id="org00cb275"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">logistics</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">dc</span> <span style="color: #268bd2;">skos</span> <span style="color: #268bd2;">uuid</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr"> 4: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">gs1</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  <span style="color: #d33682;">@skos:prefLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Logistics"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr"> 7: </span>  <span style="color: #d33682;">@skos:altLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Shipping"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr"> 8: </span>  <span style="color: #d33682;">@dc:description</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"A domain model for long-haul logistics."</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Consignor</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #93a1a1; font-style: italic;">;; based uopn ANSI X.12 204</span>
<span class="linenr">13: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">CarrierLoadTender</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Consignor</span>
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Carrier</span>
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #93a1a1; font-style: italic;">;; based uopn ANSI X.12 990</span>
<span class="linenr">18: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">CarrierLoadTenderResponse</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Carrier</span>
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Consignment</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #93a1a1; font-style: italic;">;; based uopn ANSI X.12 211</span>
<span class="linenr">23: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">BillOfLading</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Consignment</span>
<span class="linenr">24: </span>  <span style="color: #93a1a1; font-style: italic;">;; based uopn ANSI   X.12 210</span>
<span class="linenr">25: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">FreightDetailsAndInvoice</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Consignment</span>
<span class="linenr">26: </span>
<span class="linenr">27: </span>  <span style="color: #859900;">entity</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #93a1a1; font-style: italic;">;; based uopn ANSI X.12 856</span>
<span class="linenr">30: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">AdvanceShippingNotice</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr">31: </span>  <span style="color: #93a1a1; font-style: italic;">;; based uopn ANSI X.12 214</span>
<span class="linenr">32: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">TransportStatusNotification</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr">33: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">TransferRequest</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr">34: </span>  <span style="color: #859900;">event</span> <span style="color: #268bd2;">TransferConfirmation</span> <span style="color: #859900;">source</span> <span style="color: #268bd2;">Shipment</span>
<span class="linenr">35: </span>
<span class="linenr">36: </span>  <span style="color: #859900;">enum</span> <span style="color: #268bd2;">TransferKind</span> <span style="color: #859900;">of</span>
<span class="linenr">37: </span>    <span style="color: #268bd2;">Pickup</span>
<span class="linenr">38: </span>    <span style="color: #268bd2;">Dropoff</span>
<span class="linenr">39: </span>  <span style="color: #859900;">end</span>
<span class="linenr">40: </span>
<span class="linenr">41: </span><span style="color: #859900;">end</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-primer:add-unions" class="outline-3">
<h3 id="primer:add-unions"><span class="section-number-3">3.4.</span> Describe &ldquo;This or That&rdquo; with Unions</h3>
<div class="outline-text-3" id="text-primer:add-unions">
<p>
So far we have ween entities, structures, events, and enumerations.
</p>
</div>

<div id="outline-container-org63eb033" class="outline-4">
<h4 id="org63eb033"><span class="section-number-4">3.4.1.</span> Hospitality Example</h4>
<div class="outline-text-4" id="text-3-4-1">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 18: </span>Using a Structure for PaymentInstrument</label><pre class="src src-sdml" id="orgb97c530"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality_properties</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">pii</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">structure</span> <span style="color: #268bd2;">PaymentInstrument</span> <span style="color: #859900;">is</span>
<span class="linenr"> 6: </span>    <span style="color: #859900;">assert</span> <span style="color: #d33682;">only_one</span> <span style="color: #859900;">=</span>
<span class="linenr"> 7: </span>      <span style="color: #657b83; background-color: #fdf6e3;">"one, and only one, member may be present"</span>
<span class="linenr"> 8: </span>    cash <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Currency</span>
<span class="linenr"> 9: </span>    credit_balance <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">Currency</span>
<span class="linenr">10: </span>    points <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #6c71c4;">unsigned</span>
<span class="linenr">11: </span>    card <span style="color: #859900;">-&gt;</span> <span style="color: #657b83; background-color: #fdf6e3;">{</span><span style="color: #268bd2;">0</span><span style="color: #859900;">..</span><span style="color: #268bd2;">1</span><span style="color: #657b83; background-color: #fdf6e3;">}</span> <span style="color: #268bd2;">pii:CardToken</span>
<span class="linenr">12: </span>  <span style="color: #859900;">end</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span><span style="color: #859900;">end</span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 19: </span>Using a Union for PaymentInstrument</label><pre class="src src-sdml" id="org59be659"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">hospitality_properties</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #268bd2;">pii</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">union</span> <span style="color: #268bd2;">PaymentInstrument</span> <span style="color: #859900;">of</span>
<span class="linenr"> 6: </span>    <span style="color: #268bd2;">Currency</span> <span style="color: #859900;">as</span> <span style="color: #268bd2;">Cash</span>
<span class="linenr"> 7: </span>    <span style="color: #268bd2;">Currency</span> <span style="color: #859900;">as</span> <span style="color: #268bd2;">CreditBalance</span>
<span class="linenr"> 8: </span>    <span style="color: #268bd2;">unsigned</span> <span style="color: #859900;">as</span> <span style="color: #268bd2;">Points</span>
<span class="linenr"> 9: </span>    <span style="color: #268bd2;">pii:CardToken</span> <span style="color: #859900;">as</span> <span style="color: #268bd2;">Card</span>
<span class="linenr">10: </span>  <span style="color: #859900;">end</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #859900;">end</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5ec4c55" class="outline-4">
<h4 id="org5ec4c55"><span class="section-number-4">3.4.2.</span> Logistics Example</h4>
<div class="outline-text-4" id="text-3-4-2">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 20: </span>Using a Union for GTIN</label><pre class="src src-sdml" id="org72a328a"><span class="linenr"> 1: </span><span style="color: #859900;">module</span> <span style="color: #268bd2;">gs1</span> <span style="color: #859900;">is</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">import</span> <span style="color: #657b83; background-color: #fdf6e3;">[</span> <span style="color: #268bd2;">xsd</span> <span style="color: #657b83; background-color: #fdf6e3;">]</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">UniversalProductCode</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 6: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">EuropeanArticleNumber</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 7: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">InternationalStandardBookNumber</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 8: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">InternationalStandardMusicNumber</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span>
<span class="linenr"> 9: </span>  <span style="color: #859900;">datatype</span> <span style="color: #268bd2;">InternationalStandardSerialNumber</span> <span style="color: #859900;">&lt;-</span> <span style="color: #6c71c4;">string</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #859900;">union</span> <span style="color: #268bd2;">GlobalTradeIdentificationNumber</span> <span style="color: #859900;">of</span>
<span class="linenr">12: </span>    <span style="color: #d33682;">@skos:prefLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"Global Trade Identification Number"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr">13: </span>    <span style="color: #d33682;">@skos:altLabel</span> <span style="color: #859900;">=</span> <span style="color: #2aa198;">"GTIN"</span><span style="color: #268bd2; font-style: italic;">@en</span>
<span class="linenr">14: </span>    <span style="color: #268bd2;">UniversalProductCode</span>
<span class="linenr">15: </span>    <span style="color: #268bd2;">EuropeanArticleNumber</span>
<span class="linenr">16: </span>    <span style="color: #268bd2;">InternationalStandardBookNumber</span>
<span class="linenr">17: </span>    <span style="color: #268bd2;">InternationalStandardMusicNumber</span>
<span class="linenr">18: </span>    <span style="color: #268bd2;">InternationalStandardSerialNumber</span>
<span class="linenr">19: </span>  <span style="color: #859900;">end</span>
<span class="linenr">20: </span>
<span class="linenr">21: </span><span style="color: #859900;">end</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-primer:how-to-use" class="outline-2">
<h2 id="primer:how-to-use"><span class="section-number-2">4.</span> How do I use it?</h2>
<div class="outline-text-2" id="text-primer:how-to-use">
<p>
DDD
</p>
</div>

<div id="outline-container-primer:how-to-edit" class="outline-3">
<h3 id="primer:how-to-edit"><span class="section-number-3">4.1.</span> Editing SDML Source</h3>
<div class="outline-text-3" id="text-primer:how-to-edit">
<p>
TBD
</p>
</div>
</div>

<div id="outline-container-primer:how-to-draw-diagrams" class="outline-3">
<h3 id="primer:how-to-draw-diagrams"><span class="section-number-3">4.2.</span> Drawing Diagrams</h3>
<div class="outline-text-3" id="text-primer:how-to-draw-diagrams">

<div id="orge8a0a93" class="figure">
<p><img src="./images/primer-hospitality-concepts.svg" alt="primer-hospitality-concepts.svg" class="org-svg" />
</p>
<p><span class="figure-number">Figure 1: </span>Hospitality Concepts (Entities)</p>
</div>


<div id="orgfe69e06" class="figure">
<p><img src="./images/primer-hospitality-uml.svg" alt="primer-hospitality-uml.svg" class="org-svg" />
</p>
<p><span class="figure-number">Figure 2: </span>Hospitality UML</p>
</div>
</div>
</div>

<div id="outline-container-primer:how-to-document-modules" class="outline-3">
<h3 id="primer:how-to-document-modules"><span class="section-number-3">4.3.</span> Document Modules</h3>
<div class="outline-text-3" id="text-primer:how-to-document-modules">
<p>
TBD
</p>
</div>
</div>
</div>

<div id="outline-container-primer:what-next" class="outline-2">
<h2 id="primer:what-next"><span class="section-number-2">5.</span> What do I do next?</h2>
<div class="outline-text-2" id="text-primer:what-next">
<p>
TBD
</p>
</div>

<div id="outline-container-primer:for-authors" class="outline-3">
<h3 id="primer:for-authors"><span class="section-number-3">5.1.</span> For Authors</h3>
<div class="outline-text-3" id="text-primer:for-authors">
<p>
TBD
</p>
</div>
</div>

<div id="outline-container-primer:for-tool-builders" class="outline-3">
<h3 id="primer:for-tool-builders"><span class="section-number-3">5.2.</span> For Tool Builders</h3>
<div class="outline-text-3" id="text-primer:for-tool-builders">
<p>
TBD
</p>
</div>
</div>

<div id="outline-container-primer:more-reading" class="outline-3">
<h3 id="primer:more-reading"><span class="section-number-3">5.3.</span> More Reading</h3>
<div class="outline-text-3" id="text-primer:more-reading">
<ul class="org-ul">
<li><a href="https://sdml.io#intro-what-is-domain-modeling">What is Domain Modeling?</a> in the SDML reference.</li>
<li><a href="https://www.thoughtworks.com/en-us/insights/blog/agile-project-management/domain-modeling-what-you-need-to-know-before-coding">Domain Modeling: What you need to know before coding</a>, Norberto RodrÃ­guez (Norbs). Thoughtworks.</li>
<li><a href="https://olegchursin.medium.com/a-brief-introduction-to-domain-modeling-862a30b38353">A Brief Introduction to Domain Modeling</a>, Oleg Chursin.</li>
<li><a href="https://simplea.com/Articles/domain-model">What is a Domain Model?</a>, [A].</li>
<li><a href="https://en.wikipedia.org/wiki/Domain_model">Domain Model</a>, Wikipedia.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-primer:glossary" class="outline-2">
<h2 id="primer:glossary"><span class="section-number-2">6.</span> A Brief Glossary</h2>
<div class="outline-text-2" id="text-primer:glossary">
<dl class="org-dl">
<dt>Annotation</dt><dd>A <i>property</i> or <i>constraint</i> attached to a definition that may document, classify, or constrain the
definition in ways the SDML syntax cannot. For example, attaching a descriptive property, a prescriptive definition,
or categorization labels.</dd>
<dt>Constraint</dt><dd>A mechanism to describe correctness, or well-formedness, rules for a particular model and specifically
those rules that may be hard or impossible to capture in the SDML syntax itself.</dd>
<dt>Datatype</dt><dd>An unstructured type that describes the atomic values (strings, numbers, etc.) in a model. Making a
datatype more specific such as saying a string has 4-10 characters only, or a quantity is 1-100 only, documents more
information than string/number alone.</dd>
<dt>Definition</dt><dd>In SDML all elements in a model such as modules, entities, structures, fields in a structure, or variants
of an enumeration, are definitions. Definitions all have an identity which is unique within it&rsquo;s parent <i>namespace</i>.</dd>
<dt>Domain</dt><dd></dd>

<dt>Domain Model</dt><dd></dd>

<dt>Domain-Driven Development</dt><dd></dd>

<dt>Entity</dt><dd></dd>

<dt>Enumeration</dt><dd></dd>

<dt>Features</dt><dd></dd>

<dt>Formal Constraint</dt><dd></dd>

<dt>Informal Constraint</dt><dd></dd>

<dt>Member</dt><dd>A member is a field within a <i>product type</i>, consisting of a name and target type. A member may alternatively
be a reference to a property <i>role</i>.</dd>
<dt>Model</dt><dd></dd>

<dt>Module</dt><dd></dd>

<dt>Namespace</dt><dd></dd>

<dt>Ordering (Sequence)</dt><dd>A constraint that denotes whether a <i>sequence</i> is ordered or unordered.</dd>
<dt>Product Type</dt><dd>A product type is one of <i>entity</i>, <i>event</i>, or <i>structure</i>.</dd>
<dt>Property (Annotation)</dt><dd></dd>

<dt>Property (Member)</dt><dd></dd>

<dt>Role</dt><dd></dd>

<dt>Sequence</dt><dd></dd>

<dt>Structure</dt><dd></dd>

<dt>Sum Type</dt><dd>A sum type is one of <i>enumeration</i>, <i>property</i>, or <i>union</i>.</dd>
<dt>Type Variant</dt><dd></dd>

<dt>UML</dt><dd></dd>

<dt>Union</dt><dd></dd>

<dt>Uniqueness (Sequence)</dt><dd>A constraint that denotes whether a <i>sequence</i> contains only unique elements or is non-unique.</dd>
<dt>Value Variant</dt><dd></dd>

<dt>Variant</dt><dd>A unique</dd>
</dl>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Simon Johnston</p>
<p class="date">Created: 2024-02-26 Mon 11:41</p>
</div>
</body>
</html>
