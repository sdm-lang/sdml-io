#+TITLE: RFC002: Event Accepts
#+AUTHOR: Simon Johnston
#+EMAIL: johnstonskj@gmail.com
#+LANGUAGE: en
#+OPTIONS: toc:1
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="./rfcs.css"/>
#+HTML_LINK_HOME: ./index.html
#+HTML_LINK_UP: ./index.html

TBD

#+BEGIN_SRC sdml :exports code :noeval
module example is

  import [ inventory vehicle ]

  entity Booking is
    identity id -> string

    vehicle -> {0..1} vehicle:Vehicle

    accepts
      inventory:VehicleAssigned
        if self.vehicle.is_empty
        then not self.vehicle.is_empty

    accepts
      select while ...
         ... or accepts 
      end

  end

end
#+END_SRC

#+BEGIN_SRC ebnf
Accepts ::=
    "accepts" (AcceptMessage | Select)

AcceptMessage ::=
    IdentifierReference
    ( OperatorIf ConstraintSentence )?
    OperatorThen ( ConstraintSentence | Accepts)

Select ::=
    "select" ( "while" ConstraintSentence )?
    AcceptMessage ( OperatorOr AcceptMessage )*
    "end"
#+END_SRC
